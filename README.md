# ISPLabs
Forum - .NET Core MVC Web Application

## Как выполнять задачи

1. Сразу нужно создать отдельного пользователя(чтобы не захломлять system). Я закинул скрипт на создание пользователя в `/SQL/create_user_forum.sql`.
  * Захотите в `SQL Developer` и запускаете это скрипт
  * Настраиваете новое подключение, параметры везде такие же, только логин и пароль будут соответсвенно `"forum"` и `"1234"`
  * Коннеститесь по этому подключению и уже там работаете, проект будет настроен как раз на это подключение
 
2. Внизу будут задачи, которые нужно сделать, всё, что вам нужно:
  * В начале выполнения задачи создать файл(пустой) с именем (я буду к каждой задаче писать какое имя файла должно быть). Это нужно для того, чтобы было понятно, что уже кто-то делает, что бы другой не начинал. Вот как раз сразу должны проверить если на гите этот файл, если нету, то начинайте делать.
  * Написали задачу, сохраняете уже готовый файл и переходите к следующей
  Скорее всего, подключать эти скрипты буду уже я сам.

3. Если понадобиться узнать столбцы таблицы, то заходите в файл `/SQL/create_tables.sql` и смотрите

4. Все задачи делайте и тестите в SQL Developer, можете юзать уже сделанные задачи, если нужно будет.

## Задачи
***Обратите внимание! Все задачи должны выполняться в том порядке, в котором написаны, потому, что следующие зависят от предыдущих.***

 - ~~`GET_ROLES.sql`~~ - запрос на вывод всех ролей
 - ~~`UPDATE_TOPIC.sql`~~ - процедура изменение имени темы по `id`
 - ~~`UPDATE_TOPIC_IS_CLOSED.sql`~~ - функция изменение состояния(закрыта\открыта) темы по `id`
 - `DELETE_USER.sql` - функция удаления пользователя, на вход идентификфатор, return number(1 - Успешно\0 - Ошибка), out параметр с текстом ошибки
 - `UPDATE_USER.sql` - функция изменения пользователя, на вход все поля, return number(1 - Успешно\0 - Ошибка), out параметр с текстом ошибки
 - ~~`ENCRYPT.sql`~~ - фукция шифрования, на входе и выходе VARCHAR2
 - Добавить вызов функции из `ENCRYPT.sql` в ~~`LOGIN.sql`~~, ~~`REGISTER.sql`~~ и `UPDATE_USER.sql`
 - ~~`CREATE_JOURNALING_TABLES.sql`~~ - скрипт для создания таблиц журналирования, каждая таблица должна содержать все поля журналируемого объекта с префиксами `OLD_` и `NEW_`. Журналируемые таблицы `FORUM_USER`, `FORUM_MESSAGE`, `TOPIC`, `FORUM_PARTITION`, `FORUM_CATEGORY`.
 - ~~`USER_JOURNALING.sql`~~ - Сделать журналирование изменения\добавления\удаления пользователей
 - ~~`MESSAGE_JOURNALING.sql`~~ - Сделать журналирование изменения\добавления\удаления сообщений
 - ~~`TOPIC_JOURNALING.sql`~~ - Сделать журналирование изменения\добавления\удаления тем
 - ~~`CATEGORY_JOURNALING.sql`~~ - Сделать журналирование изменения\добавления\удаления категорий
 - ~~`PARTITION_JOURNALING.sql`~~ - Сделать журналирование изменения\добавления\удаления разделов


# Требования к результатм совместных лабораторных работ.

Разработка программного обеспечения с использованием базы данных. Темой работы может являться доработка совместной лабораторной работы прошлого семестра, либо можно определить новую предметную область. В качестве базы данных необходимо использование СУБД Oracle.

Язык разработки пользовательского интерфейса- любой. Дополнительные требования:

1. Результат авторизации пользователя должен записываться к контекст базы данных.

2. Журналирование действий пользователей должно быть реализовано с использованием триггеров.

3. Триггер кроме непосредственно логирования действий должен записывать информацию о пользователе взятую из контекста, если контекст пустой- генерировать исключение

4. Все действия на уровне СУБД должны осуществляться в асинхронном режиме, т.е. требование по изменению записи должно заносится в очередь и обрабатываться из очереди

5. Разработана подсистема (на уровне БД) автоматического формирования отчетности(Кол-во активностей за 1 день) и отправке на e-mail

6. Должна быть разработана эксплуатационная документация:

а. Руководство пользователя

б. Руководство администратора

в. Руководство по установке
